"use strict";!function(r,o,d){r.MediaListWidget=function(e){var t=this;t.container=e,t.trigger=t.container.querySelector(".js-init-infinity-scroll"),o.addAriaClickListener(t.trigger,a.bind(this))},r.MediaListWidget.prototype.render=function(e){var a=this,t={},i=JSON.parse(a.container.dataset.variantConfig)||d.VARIANT_CONFIGURATIONS.DEFAULT;t.items=e.map(function(e){var t=o.content.getContentModel(e,i);return t.lazyImage=r.templates["common.lazy-image"],t.objectFit=!0,t.contentType=e.type,t.branding=o.content.getContentBranding(e),t.placeholderClass=a.container.dataset.placeholderModifierClass,{data:t}}),t.gridClass=a.container.dataset.gridClass,t.mediaThumbnailClass=a.container.dataset.mediaThumbnailClass,t.featured=a.container.dataset.featured,a.mediaList=a.observableContainer.querySelector(".js-media-list");var n=r.templating.render(t,a.template);a.mediaList.insertAdjacentHTML("beforeend",n),o.VisitedLinks(a.container),r.convertToUsersLocalTime(a.container),new r.LazyLoad(a.container),l.call(a)},r.MediaListWidget.prototype.depsLoaded=function(e){void 0!==r.InfiniteScrollWidget?e():document.addEventListener(o.constants.InfiniteScrollWidget.READY,e)};var l=function(){[].slice.call(this.mediaList.querySelectorAll("[data-ui-modal]")).filter(function(e){return!e.hasAttribute("data-modal-added")}).forEach(function(e){"#GalleryModal"===e.dataset.uiModal?r.GalleryPlaylistModal.createInstance(e):"#VideoModal"===e.dataset.uiModal&&r.VideoPlayerModal.createInstance(e),e.dataset.modalAdded="true"})},a=function(){this.infiniteScroll=new r.InfiniteScrollWidget(this.container,this.render),this.trigger.querySelector(".js-show-more-button").remove()};r.widgetInitialiser.addMultipleWidgetsByName("media-list")}(PULSE.app,PULSE.app.common,PULSE.app.common.CONSTANTS);